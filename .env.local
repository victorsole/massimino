# ============================================================================
# MASSIMINO - Environment Variables Template
# Copy this file to .env.local and fill in your actual values
# ============================================================================

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================
NODE_ENV=development
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME=Massimino

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL connection string
# Format: postgresql://username:password@localhost:5432/database_name
DATABASE_URL="postgresql://postgres:password@localhost:5432/massimino_dev"

# Database connection pool settings
DB_CONNECTION_LIMIT=20
DB_STATEMENT_TIMEOUT=30000

# ============================================================================
# AUTHENTICATION (NextAuth.js)
# ============================================================================
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET="your-super-secret-key-here"
NEXTAUTH_URL=http://localhost:3000

# ============================================================================
# GOOGLE OAUTH CONFIGURATION
# ============================================================================
# Get these from Google Cloud Console:
# https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID="your-google-client-id.apps.googleusercontent.com"
GOOGLE_CLIENT_SECRET="your-google-client-secret"

# ============================================================================
# OPENAI MODERATION API
# ============================================================================
# Get your API key from: https://platform.openai.com/account/api-keys
OPENAI_API_KEY="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"
OPENAI_ORG_ID="org-9TITAoFImSo8y2vb3Bz5DFTb" # Optional

# Moderation settings
MODERATION_ENABLED=true
MODERATION_THRESHOLD=0.7    # Confidence threshold (0.0 - 1.0)
MODERATION_STRICT_MODE=true # Enable strict fitness-focused moderation
MODERATION_AUTO_BLOCK=true  # Auto-block high-confidence violations

# ============================================================================
# SAFETY & MODERATION CONFIGURATION
# ============================================================================
# Safety feature toggles
SAFETY_MODE_ENABLED=true
AUTO_MODERATION_ENABLED=true
REAL_TIME_MODERATION=true

# Content filtering
PROFANITY_FILTER_ENABLED=true
INAPPROPRIATE_CONTENT_DETECTION=true
HARASSMENT_DETECTION=true

# Violation thresholds
WARNING_THRESHOLD=3          # Warnings before suspension
SUSPENSION_HOURS=24          # Default suspension duration
REPUTATION_PENALTY=10        # Points deducted per violation

# Reporting system
USER_REPORTING_ENABLED=true
ANONYMOUS_REPORTING=false    # Require login to report
REPORT_EVIDENCE_REQUIRED=true

# ============================================================================
# EMAIL CONFIGURATION (Future implementation)
# ============================================================================
# For safety notifications and user communications
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="your-email@gmail.com"
SMTP_PASSWORD="your-app-specific-password"
EMAIL_FROM="noreply@massimino.app"

# ============================================================================
# FILE UPLOAD & STORAGE (Future implementation)
# ============================================================================
# For profile pictures, workout videos, etc.
UPLOAD_MAX_SIZE=10485760     # 10MB in bytes
UPLOAD_ALLOWED_TYPES="image/jpeg,image/png,image/webp,video/mp4"

# AWS S3 (optional)
AWS_ACCESS_KEY_ID="your-aws-access-key"
AWS_SECRET_ACCESS_KEY="your-aws-secret-key"
AWS_REGION="us-east-1"
AWS_S3_BUCKET="massimino-uploads"

# Cloudinary (alternative)
CLOUDINARY_CLOUD_NAME="your-cloud-name"
CLOUDINARY_API_KEY="your-api-key"
CLOUDINARY_API_SECRET="your-api-secret"

# ============================================================================
# LOGGING & MONITORING
# ============================================================================
# Application logging
LOG_LEVEL=info              # error, warn, info, debug
LOG_FORMAT=json             # json or pretty

# Error tracking (Sentry)
SENTRY_DSN="https://your-sentry-dsn@sentry.io/project-id"
SENTRY_ENVIRONMENT=development

# Performance monitoring
ENABLE_ANALYTICS=true
ANALYTICS_PROVIDER=none     # google, mixpanel, amplitude

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================
# Rate limiting
RATE_LIMIT_REQUESTS=100     # Requests per window
RATE_LIMIT_WINDOW=900       # Window duration in seconds (15 minutes)

# CORS settings
CORS_ORIGINS="http://localhost:3000,https://massimino.app"

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_ONLY=false

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Toggle features on/off
FEATURE_COMMUNITIES=true
FEATURE_DIRECT_MESSAGES=true
FEATURE_VIDEO_UPLOADS=false
FEATURE_PAYMENT_SYSTEM=false
FEATURE_LIVE_STREAMING=false

# Beta features (for testing)
BETA_AI_WORKOUT_PLANS=false
BETA_NUTRITION_TRACKING=false
BETA_SOCIAL_CHALLENGES=false

# ============================================================================
# DEVELOPMENT & TESTING
# ============================================================================
# Development tools
ENABLE_PRISMA_STUDIO=true
ENABLE_DEBUG_TOOLBAR=true

# Testing configuration
TEST_DATABASE_URL="postgresql://postgres:password@localhost:5432/massimino_test"
TEST_OPENAI_API_KEY="sk-test-key-for-mocking"

# Mock services for development
MOCK_MODERATION_API=false   # Use mock responses instead of OpenAI
MOCK_EMAIL_SERVICE=true     # Log emails instead of sending

# ============================================================================
# PRODUCTION OVERRIDES
# ============================================================================
# These values will be different in production
# NEXT_PUBLIC_APP_URL=https://massimino.app
# NODE_ENV=production
# MOCK_MODERATION_API=false
# MOCK_EMAIL_SERVICE=false
# LOG_LEVEL=warn

# ============================================================================
# NOTES FOR DEVELOPERS
# ============================================================================
# 1. Never commit .env.local to version control
# 2. Use strong, unique secrets for production
# 3. Rotate API keys regularly
# 4. Monitor OpenAI API usage and costs
# 5. Test moderation system thoroughly before deploying
# 6. Keep safety features enabled unless debugging
# ============================================================================